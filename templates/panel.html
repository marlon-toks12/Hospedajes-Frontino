{% extends "base.html" %}
{% block content %}

<h2>Panel del administrador</h2>

<a href="/nuevo" class="btn btn-success">Registrar hospedaje</a>
<a href="/logout" class="btn btn-danger">Cerrar sesión</a>

<hr>

<div class="grid">
{% for h in hospedajes %}
    <div class="card">
        {% if h.imagen %}
            <img src="/static/uploads/{{ h.imagen }}" class="hotel-img">
        {% endif %}

        <h3>{{ h.nombre_hotel }}</h3>
        <p><strong>Ubicación:</strong> {{ h.ubicacion }}</p>
        <p><strong>Contacto:</strong> {{ h.contacto }}</p>
        <p><strong>Precio/noche:</strong> {{ h.precio }}</p>
        <p><strong>Tipo:</strong> {{ h.tipo }}</p>

        {% if h.mapa %}
        <iframe 
            src="{{ h.mapa }}" 
            width="240" 
            height="160"
            style="border:0; border-radius:10px;"
            loading="lazy"
            allowfullscreen>
        </iframe>
        {% endif %}

        <br>
        <a href="/editar/{{ h.id }}" class="btn btn-warning">Editar</a>
        <a href="/eliminar/{{ h.id }}" class="btn btn-danger" onclick="return confirm('¿Eliminar este hospedaje?')">Eliminar</a>
    </div>
{% endfor %}
</div>


{% endblock %}
